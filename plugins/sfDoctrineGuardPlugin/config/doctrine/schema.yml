sfGuardGroup:
  actAs: [Timestampable]
  columns:
    name:
      type: string(255)
      unique: true
    description: string(1000)
  relations:
    Users:
      class: sfGuardUser
      refClass: sfGuardUserGroup
      local: group_id
      foreign: user_id
      foreignAlias: Groups
    Permissions:
      class: sfGuardPermission
      local: group_id
      foreign: permission_id
      refClass: sfGuardGroupPermission
      foreignAlias: Groups

sfGuardPermission:
  actAs: [Timestampable]
  columns:
    empresa_id:
      type: integer
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
      default: 1
    name:
      type: string(255)
      unique: true
    description: string(1000)
    detalles:
      type: enum
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      values: ['1', '2', '3', '4', '5',  '6','7']
    status:
      type: integer(1)
      fixed: false
      unsigned: false
      primary: false
      notnull: true
      autoincrement: false
  
sfGuardGroupPermission:
  options:
    symfony:
      form:   false
      filter: false
  actAs: [Timestampable]
  columns:
    group_id:
      type: integer
      primary: true
    permission_id:
      type: integer
      primary: true
  relations:
    Group:
      class: sfGuardGroup
      local: group_id
      onDelete: CASCADE
    Permission:
      class: sfGuardPermission
      local: permission_id
      onDelete: CASCADE

sfGuardUser:
  actAs: [Timestampable]
  columns:
    referido_por: string(255)
    oauth_provider: string(255)
    oauth_uid: string(255)
    first_name: string(255)
    last_name: string(255)
    fecha_nacimiento: date
    biografia: string()
    direccion: string()
    domicilio: string()
    colonia: string(10)
    delegacion: string(10)
    cp: string(10)
    enviado: string(10)
    idiomas: string()
    code_phone: string(10)
    phone: string(50)
    phone_home: string(50)
    gender: string(50)
    edo_civil: string(50)
    code_country: string(10)
    country: string(50)
    empresa_id:
      type: integer
      notnull: false
      default: 1
    occupation:
      type: string(250)
      notnull: false
    email_address:
      type: string(255)
      notnull: false
      unique: false
    username:
      type: string(128)
      notnull: false
      unique: true
    algorithm:
      type: string(128)
      default: sha1
      notnull: true
    salt: string(128)
    password: string(128)
    image: 
      type: string()
      notnull: false
    google_url: string(255)
    is_email:
      type: boolean
      default: 0
    is_phone:
      type: boolean
      default: 0
    is_google:
      type: boolean
      default: 0
    is_facebook:
      type: boolean
      default: 0
    is_active:
      type: boolean
      default: 1
    is_super_admin:
      type: boolean
      default: 0
    notify_email:
      type: boolean
      default: 0
    notify_activity:
      type: boolean
      default: 0
    notify_reserva:
      type: boolean
      default: 0
    conect_social:
      type: boolean
      default: 0
    contact_import:
      type: boolean
      default: 0
    last_login:
      type: timestamp
    publicidad: 
      type: boolean
      default: 0
    first_name_padre: string(255)
    last_name_padre: string(255)
    fecha_nacimiento_padre: date
    occupation_padre:
      type: string(250)
      notnull: false
    estado_padre: string()
    first_name_madre: string(255)
    last_name_madre: string(255)
    fecha_nacimiento_madre: date
    occupation_madre:
      type: string(250)
      notnull: false
    estado_madre: string()
    formatted_address: string(250)
    viewport: string(250)
    route: string(250)
    street_number: string(250)
    postal_code: string(250)
    locality: string(250)
    country: string(250)
    country_short: string(250)
    administrative_area_level_1: string(250)
    url: string()
    observacion:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    control_prenatal:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    semana_gestacion:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    infecciones:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    amenazas_aborto:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    traumatismo:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alergias:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    otro:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    inducido:
      type: boolean
      default: 0
    espontaneo:
      type: boolean
      default: 0
    rpm:
      type: boolean
      default: 0
    hora:
      type: string(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
    psicoprofilactico:
      type: boolean
      default: 0
      notnull: false
    psicoprofilactico_porque:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    ant_cesarea:
      type: boolean
      default: 0
      notnull: false
    ant_cesarea_porque:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    forceps:
      type: boolean
      default: 0
    anestesia:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    grupo:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    observaciones:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    edad_madre:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
    gesta:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
    para:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
    letra_c:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
    letra_a:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false
    letra_o:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false 
    peso_nacer:
      type: float(8,2)
      fixed: false
      unsigned: false
      primary: false
      notnull: false 
    talla:
      type: float(8,2)
      fixed: false
      unsigned: false
      primary: false
      notnull: false 
    min:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false 
    min5:
      type: integer(10)
      fixed: false
      unsigned: false
      primary: false
      notnull: false 
    tamiz:
      type: integer(1)
      default: 0
    tamiz_resultado:
      type: boolean
      default: 0
    tamiz_observacion:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    tamiz_archivo:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    asfixia:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    prematurez:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    peso_bajo:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    hemorragia_ventricular:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    infecciones_urinarias:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    hiperbilirrubinemia:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    factores_otro:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    seno_materno:
      type: boolean
      default: 0
    duracion:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    formula:
      type: boolean
      default: 0
    tipo6meses:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    tipo12mes:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    tipo12meses:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alimentos_blandos:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alimentacion_observaciones:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    diabetes:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    hipertension:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alteraciones_auditivas:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    transtoronos_lenguaje:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alteraciones_psiquiatricas:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alteraciones_neurologicas:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    cancer:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    convulsiones:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    tuberculosis:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alergias_fam:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    antecedentes_otros:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alergicos:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    quirurgicos:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    transfuncionales:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    traumaticos:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    enfermedades_infecciosas:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    hospitalizaciones:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    reflujo:
      type: string(250)
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    personales_otros:
      type: string()
      fixed: false
      unsigned: false
      primary: false
      autoincrement: false
      notnull: false
    alergia_antecedentes:
      type: string()
      notnull: false
    alergia_sintomas_principales:
      type: string()
      notnull: false
    alergia_lagrimeo_ocular:
      type: string()
      notnull: false
    alergia_rinitis:
      type: string()
      notnull: false
    alergia_estornudos:
      type: string()
      notnull: false
    alergia_tos:
      type: string()
      notnull: false
    alergia_crisis_asma:
      type: string()
      notnull: false
    alergia_dermatitis_atopica:
      type: string()
      notnull: false
    alergia_tiempo_anio:
      type: string()
      notnull: false
    alergia_tiempo_mes:
      type: string()
      notnull: false
    alergia_observaciones:
      type: string()
      notnull: false
    alergia_acaros:
      type: string()
      notnull: false
    alergia_acaros_texto:
      type: string()
      notnull: false
    alergia_estornudos:
      type: string()
      notnull: false
    alergia_tos:
      type: string()
      notnull: false
    alergia_crisis_asma:
      type: string()
      notnull: false
    alergia_dermatitis_atopica:
      type: string()
      notnull: false
    alergia_tiempo_anio:
      type: string()
      notnull: false
    alergia_tiempo_mes:
      type: string()
      notnull: false
    alergia_observaciones:
      type: string()
      notnull: false
    alergia_gramieas:
      type: string()
      notnull: false
    alergia_gramieas_texto:
      type: string()
      notnull: false
    alergia_arboles:
      type: string()
      notnull: false
    alergia_arboles_texto:
      type: string()
      notnull: false
    alergia_plantas:
      type: string()
      notnull: false
    alergia_plantas_texto:
      type: string()
      notnull: false
    alergia_hongos:
      type: string()
      notnull: false
    alergia_hongos_texto:
      type: string()
      notnull: false
    alergia_epit:
      type: string()
      notnull: false
    alergia_epit_texto:
      type: string()
      notnull: false
    alergia_insectos:
      type: string()
      notnull: false
    alergia_insectos_texto:
      type: string()
      notnull: false
    alergia_frasco1:
      type: string()
      notnull: false
    alergia_frasco2:
      type: string()
      notnull: false
    alergia_frasco3:
      type: string()
      notnull: false
    alergia_frasco4:
      type: string()
      notnull: false
    alergia_frasco5:
      type: string()
      notnull: false
    alergia_frasco6:
      type: string()
      notnull: false
    alergia_frasco7:
      type: string()
      notnull: false
    alergia_frasco8:
      type: string()
      notnull: false
    alergia_frasco9:
      type: string()
      notnull: false
    alergia_frasco10:
      type: string()
      notnull: false
    alergia_frasco11:
      type: string()
      notnull: false
    alergia_frasco12:
      type: string()
      notnull: false
    alergia_frasco13:
      type: string()
      notnull: false
    alergia_frasco14:
      type: string()
      notnull: false
    alergia_frasco15:
      type: string()
      notnull: false
    vacunauno_1 : date
    vacunauno_2 : date
    vacunauno_3 : date
    vacunauno_4 : date
    vacunauno_5 : date
    vacunauno_6 : date
    vacunauno_7 : date
    vacunauno_8 : date
    vacunauno_9 : date
    vacunauno_10 : date
    vacunauno_11 : date
    vacunauno_12 : date
    vacunauno_13 : date
    vacunauno_14 : date
    vacunauno_15 : date
    vacunauno_16 : date
    vacunauno_17 : date
    vacunauno_18 : date
    vacunauno_19 : date
    vacunauno_20 : date
    vacunauno_21 : date
    vacunauno_22 : date
    vacunauno_23 : date
    vacunauno_24 : date
    vacunauno_25 : date
    vacunauno_26 : date
    vacunauno_27 : date
    vacunauno_28 : date
    vacunauno_29 : date
    vacunauno_30 : date
    vacunauno_31 : date
    vacunauno_32 : date
    vacunauno_33 : date
    vacunauno_34 : date
    vacunauno_35 : date
    vacunauno_36 : date
    vacunauno_37 : date
    vacunauno_38 : date
    vacunauno_39 : date
    vacunauno_40 : date
    vacunauno_41 : date
    vacunauno_42 : date
    vacunauno_43 : date
    vacunauno_44 : date
    vacunauno_45 : date
    vacunauno_46 : date
    vacunauno_47 : date
    vacunauno_48 : date
    vacunauno_49 : date
    vacunauno_50 : date
    vacunauno_51 : date
    vacunauno_52 : date
    vacunauno_53 : date
    vacunauno_54 : date
    vacunauno_55 : date
    vacunauno_56 : date
    vacunauno_57 : date
    vacunauno_58 : date
    vacunauno_59 : date
    vacunauno_60 : date
    vacunauno_61 : date
    vacunauno_62 : date
    vacunauno_63 : date
    vacunauno_64 : date
    vacunauno_65 : date
    vacunauno_66 : date
    vacunauno_67 : date
    vacunauno_68 : date
    vacunauno_69 : date
    vacunauno_70 : date
    vacunauno_71 : date
    vacunauno_72 : date
    vacunauno_73 : date
    vacunauno_74 : date
    vacunauno_75 : date
    vacunauno_76 : date
    vacunauno_77 : date
    vacunauno_78 : string()
    vacunauno_79 : string()
    vacunauno_80 : string()
    vacunauno_81 : date
    vacunauno_82 : date
    vacunauno_83 : date
    vacunauno_84 : date
    vacunauno_85 : date
    vacunados_1 : date
    vacunados_2 : date
    vacunados_3 : date
    vacunados_4 : date
    vacunados_5 : date
    vacunados_6 : date
    vacunados_7 : date
    vacunados_8 : date
    vacunados_9 : date
    vacunados_10 : date
    vacunados_11 : date
    vacunados_12 : date
    vacunados_13 : date
    vacunados_14 : date
    vacunados_15 : date
    vacunados_16 : date
    vacunados_17 : date
    vacunados_18 : date
    vacunados_19 : date
    vacunados_20 : date
    vacunados_21 : date
    vacunados_22 : date
    vacunados_23 : date
    vacunados_24 : date
    vacunados_25 : date
    vacunados_26 : date
    vacunados_27 : date
    vacunados_28 : date
    vacunados_29 : date
    vacunados_30 : date
    vacunados_31 : date
    vacunados_32 : date
    vacunados_33 : date
    vacunados_34 : date
    vacunados_35 : date
    vacunados_36 : date
    vacunados_37 : date
    vacunados_38 : date
    vacunados_39 : date
    vacunados_40 : date
    vacunados_41 : date
    vacunados_42 : date
    vacunados_43 : date
    vacunados_44 : date
    vacunados_45 : string()
    vacunados_46 : string()
    vacunados_47 : date
    vacunados_48 : date
    vacunados_49 : date
    vacunados_50 : date
    vacunados_51 : string()
    vacunados_52 : string()
    vacunados_53 : date
    vacunados_54 : date
    vacunados_55 : date
    vacunados_56 : date
    vacunaadulto_1 : date
    vacunaadulto_2 : date
    vacunaadulto_3 : date
    vacunaadulto_4 : date
    vacunaadulto_5 : date
    vacunaadulto_6 : date
    vacunaadulto_7 : date
    vacunaadulto_8 : date
    vacunaadulto_9 : date
    vacunaadulto_10 : date
    vacunaadulto_11 : date
    vacunaadulto_12 : date
    vacunaadulto_13 : date
    vacunaadulto_14 : date
    vacunaadulto_15 : date
    vacunaadulto_16 : date
    vacunaadulto_17 : date
    vacunaadulto_18 : date
    vacunaadulto_19 : date
    vacunaadulto_20 : date
    vacunaadulto_21 : date
    vacunaadulto_22 : date
    vacunaadulto_23 : date
    vacunaadulto_24 : date
    vacunaadulto_25 : date
    vacunaadulto_26 : date
    vacunaadulto_27 : date
    vacunaadulto_28 : date
    vacunaadulto_29 : date
    vacunaadulto_30 : date
    vacunaadulto_31 : date
    vacunaadulto_32 : date
    vacunaadulto_33 : date
    vacunaadulto_34 : date
    vacunaadulto_35 : date
    vacunaadulto_36 : date
    vacunaadulto_37 : string()
    vacunaadulto_38 : date
    vacunaadulto_39 : date
    vacunaadulto_40 : string()
    vacunaadulto_41 : date
    vacunaadulto_42 : date
    vacunaadulto_43 : string()
    vacunaadulto_44 : date
    vacunaadulto_45 : date
    vacunanuevo_1 : date
    vacunanuevo_2 : date
    vacunanuevo_3 : date
    vacunanuevo_4 : date
    vacunanuevo_5 : date
    vacunanuevo_6 : date
    vacunanuevo_7 : date
    vacunanuevo_8 : date
    vacunanuevo_9 : date
    vacunanuevo_10 : date
    vacunanuevo_11 : date
    vacunanuevo_12 : date
    vacunanuevo_13 : date
    vacunanuevo_14 : date
    vacunanuevo_15 : date
    vacunanuevo_16 : date
    vacunanuevo_17 : date
    vacunanuevo_18 : date
    vacunanuevo_19 : date
    vacunanuevo_20 : date
    vacunanuevo_21 : date
    vacunanuevo_22 : date
    vacunanuevo_23 : date
    vacunanuevo_24 : date
    vacunanuevo_25 : date
    vacunanuevo_26 : date
    vacunanuevo_27 : date
    vacunanuevo_28 : date
    vacunanuevo_29 : date
    vacunanuevo_30 : date
    vacunanuevo_31 : date
    vacunanuevo_32 : date
    vacunanuevo_33 : date
    vacunanuevo_34 : date
    vacunanuevo_35 : date
    vacunanuevo_36 : date
    vacunanuevo_37 : date
    vacunanuevo_38 : date
    vacunanuevo_39 : date
    vacunanuevo_40 : date
    vacunanuevo_41 : date
    vacunanuevo_42 : date
    vacunanuevo_43 : date
    vacunanuevo_44 : string()
    vacunanuevo_45 : string()
    vacunanuevo_46 : string()
    vacunanuevo_47 : date
    vacunanuevo_48 : date
    vacunanuevo_49 : date
    vacunanuevo_50 : string()
    vacunanuevo_51 : string()
    vacunanuevo_52 : string()
    vacunanuevo_53 : date
    vacunanuevo_54 : date
    vacunanuevo_55 : date
    vacunanuevo_56 : string()
    vacunanuevo_57 : string()
    vacunanuevo_58 : string()
    vacunanuevo_59 : date
    vacunanuevo_60 : date
    vacunanuevo_61 : date
    vacunanuevo_62 : string()
    vacunanuevo_63 : string()
    vacunanuevo_64 : string()
    vacunanuevo_65 : date
    vacunanuevo_66 : date
    vacunanuevo_67 : date
    
  indexes:
    is_active_idx:
      fields: [is_active]
  relations:
    Groups:
      class: sfGuardGroup
      local: user_id
      foreign: group_id
      refClass: sfGuardUserGroup
      foreignAlias: Users
    Permissions:
      class: sfGuardPermission
      local: user_id
      foreign: permission_id
      refClass: sfGuardUserPermission
      foreignAlias: Users 

sfGuardUserPermission:
  options:
    symfony:
      form:   false
      filter: false
  actAs: [Timestampable]
  columns:
    user_id:
      type: integer
      primary: true
    permission_id:
      type: integer
      primary: true
  relations:
    User:
      class: sfGuardUser
      local: user_id
      onDelete: CASCADE
    Permission:
      class: sfGuardPermission
      local: permission_id
      onDelete: CASCADE

sfGuardUserGroup:
  options:
    symfony:
      form:   false
      filter: false
  actAs: [Timestampable]
  columns:
    user_id:
      type: integer
      primary: true
    group_id:
      type: integer
      primary: true
  relations:
    User:
      class: sfGuardUser
      local: user_id
      onDelete: CASCADE
    Group:
      class: sfGuardGroup
      local: group_id
      onDelete: CASCADE

sfGuardRememberKey:
  options:
    symfony:
      form:   false
      filter: false
  actAs: [Timestampable]
  columns:
    user_id: integer
    remember_key: string(32)
    ip_address: string(50)
  relations:
    User:
      class: sfGuardUser
      local: user_id
      foreignAlias: RememberKeys
      foreignType: one
      onDelete: CASCADE

sfGuardForgotPassword:
  options:
    symfony:
      form:   false
      filter: false
  actAs: [Timestampable]
  columns:
    user_id:
      type: integer
      notnull: true
    unique_key: string(255)
    expires_at:
      type: timestamp
      notnull: true
  relations:
    User:
      class: sfGuardUser
      local: user_id
      type: one
      foreignType: one
      foreignAlias: ForgotPassword
      onDelete: CASCADE